<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/css/eezz.css">
    <script data-eezz="template:websocket"></script>

    <script>
        // callback used to format datetime
        eezz.on_update  = (a_element) => {
            var x_list = document.querySelectorAll("[timestamp]");
            for (var i = 0; i < x_list.length; i++) {
                x_date = new Date(parseFloat(x_list[i].getAttribute("timestamp")) * 1000);
                x_list[i].innerHTML = x_date.toLocaleString();
            }
        }
    </script>
</head>

<body>
    <table id='Directory' data-eezz='assign: examples.directory.TDirPng(path="/home/paul")'>
        <caption data-eezz="template: table">{table.title}</caption>
        <thead>
            <tr data-eezz="template: row, match: header">
                 <th></th><th class="clzz_th" data-eezz="template: cell, event: do_sort(index={cell.index})">{cell.value}</th></tr>
        </thead>
        <tbody>
            <tr data-eezz="template: row, match: is_dir, event: do_select(index={row.index})">
                <td><img src="dir.png"></td><td class='clzz_{cell.type}' data-eezz="template: cell">{cell.value}</td></tr>
            <tr data-eezz="template: row, match: is_file, event: do_select(index={row.index})">
                <td><img src="file.png"></td><td class='clzz_{cell.type}' data-eezz="template: cell">{cell.value}</td></tr>
        </tbody>
    </table>

</body>
