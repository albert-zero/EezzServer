<!DOCTYPE html>
<html>
<head>
    <link href="xstylesbasic.css" rel="stylesheet" type="text/css" />
    <script data-eezz-action = "{'eezzAgent.dictionary':'eezzAgent.get_script'}">
    function doSetLightTest(aElem, aPin) {
    	xPackage = {'pin': aElem.value, 'value': aPin};
    	console.log(JSON.stringify(xPackage));
    }
    
    function doSetLight(aSlider, aPin) {
    	xPin = aPin;
    	xVal = aSlider.value;
    	
    	try {
    	    xmlHttp = new XMLHttpRequest();
    	} catch(e) {
    	    // Fehlerbehandlung, wenn die Schnittstelle vom Browser nicht unterstützt wird.
    	}
    	
    	if (xmlHttp) {
    	    xmlHttp.open('POST', 'http://192.168.178.88/gpio/0', true);
    	    
    	    xmlHttp.onreadystatechange = function () {
    	        if (xmlHttp.readyState == 4) {
    	            xPackage = xmlHttp.responseText;
    	        }
    	    };
    	    xPackage = {'pin': xPin, 'value': xVal};
    	    xmlHttp.send( JSON.stringify(xPackage) + '\n' );
    	}
    }
    </script>
    
    <style>
    .eezzRow {
        margin : 0px 0px 0px 0px;
        padding: 0px 0px 0px 0px;
        display: table-row;    
    }
    
    .eezzCell {
        margin : 5px 0px 0px 5px;
        padding: 0px 0px 0px 0px;
        display: table-cell;
    }
    </style>
    
</head>

<body name = "BodySection">

    <div style="display: table;">
        <div class="eezzRow">
            <label for  = "eezzRangeBlue" class="eezzCell">blue</label>
            <input id   = "eezzRangeBlue" class="eezzCell" 
                   onchange = "doSetLight(this, 3)"
                   type = "range" min="0" max="1023" step="5"/>
        </div>

        <div class="eezzRow">
            <label for  = "eezzRangeRed" class="eezzCell">yellow</label>
            <input id   = "eezzRangeRed" class="eezzCell" 
                   onchange = "doSetLight(this, 4)"
                   type = "range" min="0" max="1023" step="5"/>
        </div>   
    </div> 

</body>
</html>